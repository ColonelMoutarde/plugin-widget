<div class="cmd #history# container-fluid tooltips cmd-widget" style="min-width:90px;min-height:60px;padding:0px !important;" data-type="info" data-subtype="numeric" data-cmd_id="#id#" data-cmd_uid="#uid#" title="Valeur du #valueDate#, collectÃ©e le #collectDate#">
    <div class="progress" id="cmd#id#">
        <div class="progress-bar" role="progressbar" aria-valuenow="#state#" aria-valuemin="#minValue#" aria-valuemax="#maxValue#" >
            <span class="sr-only">60% Complete</span>
        </div>
    </div>
    <div style="#displayHistory# font-size: 0.8em;" class="col-xs-12 center-block">
        <span title='Min' class='tooltips'>#minHistoryValue#</span>|<span title='Moyenne' class='tooltips'>#averageHistoryValue#</span>|<span title='Max' class='tooltips'>#maxHistoryValue#</span> <i class="#tendance#"></i>
    </div>
    <script>
        var value = (is_numeric('#state#')) ? parseInt('#state#') : 0;
        $('.cmd[data-cmd=#uid#]').find('.progress-bar').attr('aria-valuenow', value);
        var pourcentage = (value / ('#maxValue#' - '#minValue#')) * 100;
        $('.cmd[data-cmd=#uid#]').find('.progress-bar').css('width', pourcentage + '%');
        var progressBarClass = '';
        if (pourcentage < 100) {
            progressBarClass = 'progress-bar-danger';
        }
        if (pourcentage < 75) {
            progressBarClass = 'progress-bar-warning';
        }
        if (pourcentage < 50) {
            progressBarClass = 'progress-bar-info';
        }
        if (pourcentage < 25) {
            progressBarClass = 'progress-bar-success';
        }
        $('.cmd[data-cmd=#uid#]').find('.progress-bar').addClass(progressBarClass);
    </script>
</div>